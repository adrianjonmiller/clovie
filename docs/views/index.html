<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Clovie – Vintage Web Dev Tooling (Docs)</title>
  <link rel="stylesheet" href="https://unpkg.com/thin.css">
  <link rel="stylesheet" href="main.css">
  <meta name="description" content="Single‑page documentation for Clovie, a simple, fast, modular Node.js static site generator.">
</head>
<body>
  <header class="header padding--all-md">
    <h1 id="top" class="header-title type--size-iii">Clovie</h1>
    <p class="margin--top-md">A Node.js-based framework for building static sites and web applications. Simple but deep, easy to start with room to grow.</p>
  </header>

  <div class="fixed--top-right padding--all-md flex">
    {% include 'nav' %}
  </div>
  
  <nav class="nav fixed--left-center" aria-label="Table of contents">
    <ul class="reset">
      <li><a href="#overview" class="link-pageContents js--navLink reset" data-content="Overview">Overview</a></li>
      <li><a href="#core-features" class="link-pageContents js--navLink reset" data-content="Core Features">Core Features</a></li>
      <li><a href="#usage" class="link-pageContents js--navLink reset" data-content="Usage">Usage</a></li>
      <li><a href="#newProject" class="link-pageContents js--navLink reset" data-content="New Project">New Project</a></li>
      <li><a href="#installation" class="link-pageContents js--navLink reset" data-content="Installation">Installation</a></li>
      <li><a href="#build-dev" class="link-pageContents js--navLink reset" data-content="Building and Development">Building and Development</a></li>
      <li><a href="#configuration" class="link-pageContents js--navLink reset" data-content="Configuration">Configuration</a>
      <li><a href="#minimal-config" class="link-pageContents js--navLink reset" data-content="Minimal Configuration">Minimal Configuration</a></li>
      <li><a href="#full-config" class="link-pageContents js--navLink reset" data-content="Full Configuration">Full Configuration</a></li>
      <li><a href="#advanced" class="link-pageContents js--navLink reset" data-content="Advanced Features">Advanced Features</a></li>
      <li><a href="#database" class="link-pageContents js--navLink reset" data-content="Database (Server Mode)">Database (Server Mode)</a></li>
      <li><a href="#api-routes" class="link-pageContents js--navLink reset" data-content="API Routes">API Routes</a></li>
      <li><a href="#system-routes" class="link-pageContents js--navLink reset" data-content="System Routes">System Routes</a></li>
      <li><a href="#server-adapters" class="link-pageContents js--navLink reset" data-content="Server Adapters">Server Adapters</a></li>
      <li><a href="#middleware" class="link-pageContents js--navLink reset" data-content="Middleware">Middleware</a></li>
      <li><a href="#async-data" class="link-pageContents js--navLink reset" data-content="Async Data Loading">Async Data Loading</a></li>
      <li><a href="#routes" class="link-pageContents js--navLink reset" data-content="Dynamic Routes">Dynamic Routes</a></li>
      <li><a href="#route-pagination" class="link-pageContents js--navLink reset" data-content="Route Pagination">Route Pagination</a></li>
      <li><a href="#data-transform" class="link-pageContents js--navLink reset" data-content="Data Transformation">Data Transformation</a></li>
      <li><a href="#template-engines" class="link-pageContents js--navLink reset" data-content="Template Engines">Template Engines</a></li>
      <li><a href="#handlebars" class="link-pageContents js--navLink reset" data-content="Built-in Engines">Built-in Engines</a></li>
      <li><a href="#nunjucks" class="link-pageContents js--navLink reset" data-content="Advanced Nunjucks">Advanced Nunjucks</a></li>
      <li><a href="#pug" class="link-pageContents js--navLink reset" data-content="Advanced Pug">Advanced Pug</a></li>
      <li><a href="#custom-engine" class="link-pageContents js--navLink reset" data-content="Custom Engine">Custom Engine</a></li>
      <li><a href="#error-best" class="link-pageContents js--navLink reset" data-content="Error Handling &amp; Best Practices">Error Handling &amp; Best Practices</a></li>
      <li><a href="#error-handling" class="link-pageContents js--navLink reset" data-content="Error Handling">Error Handling</a></li>
      <li><a href="#progress" class="link-pageContents js--navLink reset" data-content="Progress Indicators">Progress Indicators</a></li>
      <li><a href="#best-practices" class="link-pageContents js--navLink reset" data-content="Best Practices">Best Practices</a></li>
      <li><a href="#project-structure" class="link-pageContents js--navLink reset" data-content="Project Structure">Project Structure</a></li>
      <li><a href="#development" class="link-pageContents js--navLink reset" data-content="Development">Development</a></li>
      <li><a href="#troubleshooting" class="link-pageContents js--navLink reset" data-content="Troubleshooting">Troubleshooting</a></li>
      <li><a href="#license" class="link-pageContents js--navLink reset" data-content="License">License</a></li>
    </ul>
  </nav>

  <main class="main padding--all-md js--scrollPosition">
    <section id="overview" class="margin--top-md margin--top-xl">
      <h2>Overview</h2>
      <p>Clovie is a modern yet minimalist static site generator and web framework built on the <strong>brickworks/engine</strong> pattern. It emphasizes sensible defaults, modularity, and speed through a service-oriented architecture. Supports both static site generation and full-featured server applications using vanilla Node.js HTTP (Express adapter available).</p>
      
      <h3 class="margin--top-md">Service Architecture</h3>
      <p>All functionality is provided by services extending <code>ServiceProvider</code>:</p>
      <ul>
        <li><strong>File</strong> - File system operations (reading, writing, watching)</li>
        <li><strong>Compile</strong> - Template compilation, asset bundling, and live reload injection</li>
        <li><strong>Run</strong> - Build orchestration and command execution</li>
        <li><strong>Route</strong> - Dynamic routing, SSR caching, and route handlers</li>
        <li><strong>Server</strong> - HTTP server management with adapter pattern (conditionally loaded)</li>
        <li><strong>Cache</strong> - Build caching and incremental builds</li>
        <li><strong>Configurator</strong> - Configuration loading and validation</li>
        <li><strong>LiveReload</strong> - File watching and browser refresh (development only)</li>
        <li><strong>Database</strong> - Document-oriented database with WAL (server mode only)</li>
      </ul>

      <h3 class="margin--top-md">Two Operating Modes</h3>
      <p><strong>Static Mode</strong> (<code>type: 'static'</code>): Traditional static site generation</p>
      <p><strong>Server Mode</strong> (<code>type: 'server'</code>): Full web applications with SSR using Node.js HTTP server (Express adapter available)</p>
    </section>

    <section  class="margin--top-md margin--top-xl">
      <h2 id="core-features">Core Features</h2>
      <ul>
        <li><strong>Template Engine Agnostic:</strong> Handlebars, Nunjucks, Pug, Mustache, or custom.</li>
        <li><strong>Asset Processing:</strong> JavaScript bundling with esbuild, SCSS compilation, static asset copying.</li>
        <li><strong>Development Server:</strong> Live reload with file watching and hot module replacement.</li>
        <li><strong>Dynamic Routing:</strong> Powerful route system for both static and server-side page generation.</li>
        <li><strong>Server-Side Rendering:</strong> Native Node.js HTTP server with dynamic routes and API endpoints.</li>
        <li><strong>Middleware Support:</strong> Express middleware with auto-adapter selection for authentication, CORS, and more.</li>
        <li><strong>Database Integration:</strong> Document-oriented database with Write-Ahead Logging for server applications.</li>
        <li><strong>API Routes:</strong> Create RESTful APIs with collection-based data storage and automatic persistence.</li>
        <li><strong>Port Management:</strong> Integrated utilities for managing development server ports.</li>
      </ul>
    </section>

    <section  class="margin--top-md margin--top-xl">
      <h2 id="usage">Usage</h2>

      <h3 id="newProject" class="margin--top-sm">New Project</h3>
      <div class="codeBlock margin--top-sm">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">
            Using Clovie CLI (Recommended)
          </h4>
            </div>
              <div class="codeBlock-code padding--all-md reset">
                <code># Create a new static site (default)</code>
                <br>
                <code class="codeBlock-code-copy js--copyCode">npx clovie create my-site</code>
                <br>
                <br>
                <code># Or with global install</code>
                <br>
                <code class="codeBlock-code-copy js--copyCode">clovie create my-site</code>
                <br>
                <br>
                <code># Create a server application</code>
                <br>
                <code class="codeBlock-code-copy js--copyCode">clovie create my-app --template server</code>
              </div>
        </div>
    
      <div class="commentBlock margin--top-md padding--all-md pattern-slash-grid">
        <p><strong>Available Templates:</strong></p>
        <ul>
          <li><code>static</code> - Static site with SEO, responsive design (default)</li>
          <li><code>server</code> - Full-stack server application with API routes, database, and SSR</li>
        </ul>
      </div>
    

      <h3 id="installation" class="margin--top-md">Installation</h3>
      <div class="codeBlock">
        <div class="codeBlock-header margin--top-sm padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">
            Option 1: Local Installation (Recommended)
          </h4>
        </div>
      </h4>
      <div class="codeBlock-code padding--all-md reset">
        <code class="codeBlock-code-copy js--copyCode" data-copy-text="copy">npm install --save-dev clovie</code>
        <br>
        <br>
        <code>
          # Use via npm scripts
        </code>
        <br>
        <code class="codeBlock-code-copy js--copyCode">
          npm run build
        </code>
        <br>
        <code class="codeBlock-code-copy js--copyCode">
          npm run dev
        </code>
      </div>
      </div>
      <div class="codeBlock">
        <div class="codeBlock-header margin--top-md padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Option 2: Global Installation</h4>
        </div>
      <div class="codeBlock-code padding--all-md reset">
        <code class="codeBlock-code-copy js--copyCode">npm install -g clovie</code>
      </div>
</div>
      <h3 id="build-dev" class="margin--top-lg">Building and Development</h3>
      
      <h4 class="margin--top-md">Available Commands</h4>
      <div class="codeBlock">
        <div class="codeBlock-header margin--top-md padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Build static files (production)</h4>
        </div>
        <div class="codeBlock-code padding--all-md reset">
          <code class="codeBlock-code-copy js--copyCode">clovie build</code>
          <br>
          <code># or</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">npm run build</code>
        </div>
      </div>

      <div class="codeBlock">
        <div class="codeBlock-header margin--top-md padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Development server with live reload</h4>
        </div>
        <div class="codeBlock-code padding--all-md reset">
          <code class="codeBlock-code-copy js--copyCode">clovie dev</code>
          <br>
          <code># or (watch is aliased to dev)</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">clovie watch</code>
          <br>
          <code># or</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">npm run dev</code>
        </div>
      </div>

      <div class="codeBlock">
        <div class="codeBlock-header margin--top-md padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Production server (server mode only)</h4>
        </div>
        <div class="codeBlock-code padding--all-md reset">
          <code class="codeBlock-code-copy js--copyCode">clovie serve</code>
          <br>
          <code># or (server is aliased to serve)</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">clovie server</code>
          <br>
          <code># or add to package.json:</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">"scripts": { "start": "clovie serve" }</code>
        </div>
      </div>

      <div class="codeBlock">
        <div class="codeBlock-header margin--top-md padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Port management utilities</h4>
        </div>
        <div class="codeBlock-code padding--all-md reset">
          <code class="codeBlock-code-copy js--copyCode">clovie kill --port 3000</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">clovie kill --common</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">clovie kill --check</code>
          <br>
          <br>
          <code># Kill specific ports</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">clovie kill -p 3000 3001</code>
          <br>
          <br>
          <code># Check which ports are in use</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">clovie kill --check --port 3000</code>
        </div>
      </div>

      <div class="codeBlock">
        <div class="codeBlock-header margin--top-md padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Custom config file</h4>
        </div>
        <div class="codeBlock-code padding--all-md reset">
          <code class="codeBlock-code-copy js--copyCode">clovie build --config custom.config.js</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">clovie dev -c custom.config.js</code>
        </div>
      </div>
      <p class="type--align-right margin--top-md"><a href="#top" class="link-backToTop reset">Back to top</a></p>
    </section>

    <section class="margin--top-md margin--top-xl">
      <h2 id="configuration">Configuration</h2>
      
      <div class="codeBlock layout--container">
        <div class="codeBlock-header margin--top-md padding--all-md pattern-dot-grid">
          <h4 id="minimal-config" class="codeBlock-header-title margin--top-sm">Minimal Configuration (Recommended)</h4>
          <p class="margin--top-xs type--size-v-1 codeBlock-header-title">Clovie uses smart defaults and auto‑detection, so you can start with just:</p>
        </div>
        <button class="button layout--top-right">Copy</button>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  data: {
    title: 'My Site'
  }
};{% endraw %}
</code></pre>
      </div>
      <div class="commentBlock margin--top-md padding--all-md pattern-slash-grid">
        <p>Auto‑detection includes:</p>
        <ul>
          <li><code>views/</code> directory for HTML templates</li>
          <li><code>scripts/main.js</code> for JavaScript entry point</li>
          <li><code>styles/main.scss</code> for SCSS entry point</li>
          <li><code>assets/</code> directory for static files</li>
        </ul>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="full-config" class="codeBlock-header-title">Full Static Site Configuration</h4>
        </div>
<pre class="codeBlock-code padding--all-md reset"><code class="codeBlock-code-copy js--copyCode">{% raw %}export default {
  type: 'static',  // Default - generates static HTML files
  
  // Custom paths (optional - Clovie will auto-detect if not specified)
  scripts: './src/js/app.js',
  styles: './src/css/main.scss',
  views: './templates',
  partials: './partials',
  assets: './public',
  outputDir: './build',
  
  // Development server options
  port: 3000,
  host: '0.0.0.0',
  
  // Your data
  data: {
    title: 'My Site'
  },
  
  // Template engine (optional - defaults to Nunjucks)
  // Simple string-based configuration:
  renderEngine: 'nunjucks',  // 'nunjucks' | 'handlebars' | 'pug' | 'eta'
  
  // Or custom engine with render and register functions:
  // renderEngine: {
  //   render: (template, data) => yourEngine(template, data),
  //   register: (name, template) => yourEngine.registerPartial(name, template)
  // }
};{% endraw %}
</code>
</pre>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Server Mode Configuration</h4>
        </div>
<pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  type: 'server',  // Server-side application (uses Node.js HTTP server)
  port: 3000,
  host: '0.0.0.0',
  
  // Database configuration (auto-enabled in server mode)
  dbPath: './data',      // Directory for database files
  walPath: './data',     // Directory for WAL files
  
  // Global data available to all routes
  data: {
    title: 'My App',
    version: '1.0.0'
  },
  
  // Express middleware (auto-selects Express adapter)
  middleware: [
    express.json(),
    express.urlencoded({ extended: true }),
    
    // Authentication middleware for protected routes
    (req, res, next) => {
      if (req.url.startsWith('/api/protected/')) {
        const token = req.headers.authorization?.replace('Bearer ', '');
        if (!token) {
          return res.status(401).json({ error: 'Authentication required' });
        }
        // Verify token and attach user to request
        req.user = verifyJWT(token);
      }
      next();
    }
  ],
  
  // Server lifecycle hooks
  hooks: {
    onRequest: async (ctx) => {
      // Runs on every request
      console.log(ctx.req.method, ctx.req.url);
    },
    preHandler: async (ctx) => {
      // Runs before route handler
    },
    onError: async (ctx, error) => {
      // Custom error handling
      console.error(error);
    }
  },
  
  // API routes (JSON endpoints)
  api: [{
    path: '/api/users',
    method: 'GET',
    handler: async (ctx, database) => {
      const users = database.collection('users');
      const allUsers = users.keys().map(id => ({
        id,
        ...users.get([id])
      }));
      return ctx.respond.json({ users: allUsers });
    }
  }],
  
  // Page routes (server-side rendered)
  routes: [{
    path: '/user/:id',
    template: './views/profile.html',
    data: async (ctx, database) => {
      const users = database.collection('users');
      const user = users.get([ctx.params.id]);
      return { user };
    }
  }]
};{% endraw %}
</code>
</pre>
      </div>
      <p class="type--align-right margin--top-md"><a class="link-backToTop reset" href="#top">Back to top</a></p>
    </section>

    <section class="margin--top-md margin--top-xl">
      <h2 id="advanced">Advanced Features</h2>

      <h3 id="database" class="margin--top-md">Database (Server Mode)</h3>
      <p>Clovie automatically provides a document-oriented database with Write-Ahead Logging (WAL) in server mode. Built on <code>@brickworks/database-ext</code>, it provides collections, automatic checkpointing, and crash recovery.</p>
      
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Database Configuration</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  type: 'server',
  
  // Database configuration (automatically created if they don't exist)
  dbPath: './data',          // Directory for database files
  walPath: './data',         // Directory for WAL files
  
  api: [{
    path: '/api/users',
    method: 'GET',
    handler: async (ctx, database) => {
      // Database is automatically provided
      const users = database.collection('users');
      
      // Get all user IDs and fetch their data
      const allUsers = users.keys().map(id => users.get([id]));
      
      return ctx.respond.json({ users: allUsers });
    }
  }]
};{% endraw %}
</code></pre>
      </div>
      
      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>Database Features:</strong></p>
        <ul>
          <li>📁 <strong>Collection-based</strong> - Organize data into named collections</li>
          <li>⚡ <strong>Write-Ahead Logging</strong> - Fast writes with crash recovery</li>
          <li>🔄 <strong>Automatic checkpointing</strong> - Periodic state snapshots</li>
          <li>💾 <strong>JSON persistence</strong> - Human-readable file format</li>
          <li>🎯 <strong>Auto-generated IDs</strong> - Unique document identifiers</li>
          <li>🔍 <strong>Query capabilities</strong> - Find documents by field values</li>
        </ul>
      </div>

      <h3 id="api-routes" class="margin--top-md">API Routes (Server Mode)</h3>
      <p>API routes return JSON data and are perfect for building REST APIs. They're separate from template routes and don't render HTML.</p>
      
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">API Routes Configuration</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  type: 'server',
  
  api: [
    {
      path: '/api/status',
      method: 'GET',
      handler: async (ctx, database) => {
        return ctx.respond.json({
          status: 'ok',
          timestamp: new Date().toISOString()
        });
      }
    },
    {
      path: '/api/users/:id',
      method: 'GET',
      handler: async (ctx, database) => {
        const userId = ctx.params.id;
        const users = database.collection('users');
        const user = users.get([userId]);
        
        if (!user) {
          return ctx.respond.json({ error: 'Not found' }, 404);
        }
        
        return ctx.respond.json({ user });
      }
    },
    {
      path: '/api/users',
      method: 'POST',
      handler: async (ctx, database) => {
        const { name, email } = ctx.body;
        const users = database.collection('users');
        
        // add() auto-generates a unique ID
        const userId = users.add({ 
          name, 
          email,
          created: new Date().toISOString()
        });
        
        return ctx.respond.json({ 
          success: true, 
          id: userId,
          user: users.get([userId])
        });
      }
    },
    {
      path: '/api/users',
      method: 'GET',
      handler: async (ctx, database) => {
        const users = database.collection('users');
        
        // Get all user documents
        const allUsers = users.keys().map(id => ({
          id,
          ...users.get([id])
        }));
        
        return ctx.respond.json({ 
          users: allUsers,
          total: allUsers.length 
        });
      }
    }
  ]
};{% endraw %}
</code></pre>
      </div>

      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>Available Response Methods:</strong></p>
        <ul>
          <li><code>ctx.respond.json(data, status)</code> - Send JSON response</li>
          <li><code>ctx.respond.html(html, status)</code> - Send HTML response</li>
          <li><code>ctx.respond.text(text, status)</code> - Send plain text</li>
        </ul>
        <p><strong>Context Properties:</strong></p>
        <ul>
          <li><code>ctx.req</code> - Request object</li>
          <li><code>ctx.params</code> - Route parameters (e.g., :id)</li>
          <li><code>ctx.query</code> - Query string parameters</li>
          <li><code>ctx.body</code> - Request body (with middleware)</li>
        </ul>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Collection Operations</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}// Get a collection
const users = database.collection('users');

// Add with auto-generated ID
const userId = users.add({ 
  name: 'Alice', 
  email: 'alice@example.com' 
});
// Returns: 'doc_abc123'

// Get by ID (uses path arrays)
const user = users.get([userId]);

// Set with specific key
users.set(['alice'], { 
  name: 'Alice', 
  email: 'alice@example.com' 
});

// Update a document
users.update([userId], user => ({
  ...user,
  lastSeen: new Date().toISOString()
}));

// Check if exists
const exists = users.has([userId]);

// Get all keys
const allIds = users.keys();

// Remove a document
users.remove([userId]);

// Query by field value
const alice = users.findWhere('name', '===', 'Alice');

// Find all matching
const admins = users.findAllWhere('role', '===', 'admin');

// Nested collections
const posts = database.collection('posts');
const comments = posts.collection('comments');
comments.set([postId, 'comment1'], { 
  text: 'Great post!' 
});{% endraw %}
</code></pre>
      </div>

      <h3 id="system-routes" class="margin--top-md">Built-in System Routes</h3>
      <p>Server mode automatically provides these system endpoints:</p>
      <div class="commentBlock margin--top-sm padding--all-md">
        <ul>
          <li><code>GET /health</code> - Health check endpoint</li>
          <li><code>GET /api/info</code> - Server information and route count</li>
        </ul>
      </div>

      <h3 id="server-adapters" class="margin--top-md">Server Adapters</h3>
      <p>Clovie uses a vanilla Node.js HTTP server by default. You can optionally use Express for advanced middleware features.</p>
      
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Default HTTP Server</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  type: 'server',
  // Uses Node.js http.createServer by default
  // No dependencies required - fast and lightweight
  
  api: [{
    path: '/api/hello',
    method: 'GET',
    handler: async (ctx, database) => {
      return ctx.respond.json({ message: 'Hello!' });
    }
  }]
};{% endraw %}
</code></pre>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Using Express Adapter</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}import express from 'express';
import { ExpressAdapter } from 'clovie/adapters';

export default {
  type: 'server',
  
  // Use Express adapter for advanced middleware
  adapter: 'express',  // or new ExpressAdapter()
  
  // Express middleware
  middleware: [
    express.json(),
    express.urlencoded({ extended: true }),
    express.static('public')
  ],
  
  api: [{
    path: '/api/hello',
    method: 'POST',
    handler: async (ctx, database) => {
      // ctx.body parsed by Express middleware
      const { name } = ctx.body;
      return ctx.respond.json({ message: `Hello ${name}!` });
    }
  }]
};{% endraw %}
</code></pre>
      </div>

      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>When to use Express adapter:</strong></p>
        <ul>
          <li>Need Express-specific middleware (sessions, compression, etc.)</li>
          <li>Integrating with existing Express ecosystem</li>
          <li>Using third-party Express middleware</li>
        </ul>
        <p class="margin--top-sm"><strong>Default HTTP adapter is recommended for:</strong></p>
        <ul>
          <li>Maximum performance (no framework overhead)</li>
          <li>Minimal dependencies</li>
          <li>Most common use cases (JSON APIs, SSR)</li>
        </ul>
        <p class="margin--top-sm"><strong>Note:</strong> Install Express if using the Express adapter: <code>npm install express</code></p>
      </div>

      <h3 id="middleware" class="margin--top-md">Middleware</h3>
      <p>Clovie supports Express middleware for server applications. When you configure middleware, Clovie automatically uses the Express adapter for full compatibility with the Express middleware ecosystem.</p>
      
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Basic Middleware Setup</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}import express from 'express';
import cors from 'cors';

export default {
  type: 'server',
  
  middleware: [
    express.json({ limit: '10mb' }),           // Parse JSON bodies
    express.urlencoded({ extended: true }),    // Parse form data
    cors({ origin: 'https://myapp.com' }),     // CORS configuration
    express.static('public')                   // Serve static files
  ]
};{% endraw %}
</code></pre>
      </div>

      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>Auto-Adapter Selection:</strong> Clovie automatically switches to the Express adapter when middleware is configured. If no middleware is present, it uses the faster HTTP adapter.</p>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Authentication Middleware (Most Common Pattern)</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  type: 'server',
  
  middleware: [
    // Basic request logging
    (req, res, next) => {
      console.log(`${new Date().toISOString()} ${req.method} ${req.url}`);
      next();
    },
    
    // Selective authentication - only protect certain routes
    (req, res, next) => {
      // Public routes that don't need authentication
      const publicPaths = [
        '/api/login',
        '/api/register',
        '/api/health',
        '/api/docs'
      ];
      
      // Skip auth for public routes
      if (publicPaths.some(path => req.url.startsWith(path))) {
        return next();
      }
      
      // Protect all /api/protected/* routes
      if (req.url.startsWith('/api/protected/')) {
        const token = req.headers.authorization?.replace('Bearer ', '');
        
        if (!token) {
          return res.status(401).json({ 
            error: 'Authentication required',
            message: 'Please provide a Bearer token'
          });
        }
        
        try {
          // In a real app, verify JWT token here
          const user = verifyJWT(token);
          req.user = user; // Attach user info to request
          next();
        } catch (error) {
          return res.status(401).json({ 
            error: 'Invalid token',
            message: 'Token verification failed'
          });
        }
      } else {
        // All other routes pass through
        next();
      }
    }
  ],
  
  api: [
    // Public endpoint - no auth needed
    {
      method: 'GET',
      path: '/api/login',
      handler: (ctx) => ctx.respond.json({ message: 'Login endpoint' })
    },
    
    // Protected endpoint - requires Bearer token
    {
      method: 'GET', 
      path: '/api/protected/profile',
      handler: (ctx) => {
        // ctx.req.user is available thanks to auth middleware
        return ctx.respond.json({ 
          user: ctx.req.raw.req.user,
          message: 'This is protected data'
        });
      }
    }
  ]
};{% endraw %}
</code></pre>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Simple API Key Authentication</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  type: 'server',
  
  middleware: [
    (req, res, next) => {
      // Only protect API routes
      if (!req.url.startsWith('/api/')) {
        return next();
      }
      
      const apiKey = req.headers['x-api-key'];
      const validKeys = process.env.API_KEYS?.split(',') || [];
      
      if (!apiKey || !validKeys.includes(apiKey)) {
        return res.status(401).json({
          error: 'Invalid API key',
          message: 'Provide a valid X-API-Key header'
        });
      }
      
      next();
    }
  ]
};{% endraw %}
</code></pre>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Session-Based Authentication</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}import session from 'express-session';

export default {
  type: 'server',
  
  middleware: [
    // Session middleware
    session({
      secret: process.env.SESSION_SECRET || 'your-secret-key',
      resave: false,
      saveUninitialized: false,
      cookie: { 
        secure: process.env.NODE_ENV === 'production',
        maxAge: 24 * 60 * 60 * 1000 // 24 hours
      }
    }),
    
    // Auth middleware using sessions
    (req, res, next) => {
      // Protect admin routes
      if (req.url.startsWith('/admin/')) {
        if (!req.session.user || req.session.user.role !== 'admin') {
          return res.status(403).json({
            error: 'Access denied',
            message: 'Admin access required'
          });
        }
      }
      
      next();
    }
  ]
};{% endraw %}
</code></pre>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Testing Your Auth Middleware</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code># Test public endpoint (should work)
curl http://localhost:3000/api/health

# Test protected endpoint without token (should return 401)
curl http://localhost:3000/api/protected/profile

# Test protected endpoint with token (should work)
curl -H "Authorization: Bearer your-token" http://localhost:3000/api/protected/profile

# Test with API key
curl -H "X-API-Key: your-key" http://localhost:3000/api/data</code></pre>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Middleware Execution Order</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  middleware: [
    cors(),                    // 1. CORS (must be first)
    express.json(),           // 2. Body parsing
    requestLogger,            // 3. Logging
    rateLimiter,             // 4. Rate limiting
    authenticateUser,        // 5. Authentication (after parsing, before business logic)
    authorizeUser           // 6. Authorization (after auth)
  ]
};{% endraw %}
</code></pre>
      </div>

      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>Middleware executes in array order.</strong> This is critical for auth flows - ensure CORS and body parsing happen before authentication.</p>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Common Middleware Patterns</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}// Error handling middleware
const errorHandler = (err, req, res, next) => {
  console.error('Middleware error:', err);
  res.status(500).json({ error: 'Internal server error' });
};

// Request timeout middleware  
const timeout = (ms) => (req, res, next) => {
  const timer = setTimeout(() => {
    res.status(408).json({ error: 'Request timeout' });
  }, ms);
  
  res.on('finish', () => clearTimeout(timer));
  next();
};

// Custom headers middleware
const securityHeaders = (req, res, next) => {
  res.setHeader('X-Content-Type-Options', 'nosniff');
  res.setHeader('X-Frame-Options', 'DENY');
  res.setHeader('X-XSS-Protection', '1; mode=block');
  next();
};

export default {
  type: 'server',
  middleware: [
    timeout(30000),           // 30 second timeout
    securityHeaders,          // Security headers
    express.json(),
    // ... your auth middleware
    errorHandler             // Error handling (should be last)
  ]
};{% endraw %}
</code></pre>
      </div>
      
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="async-data" class="codeBlock-header-title">Async Data Loading (Static Mode)</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  type: 'static',
  // ... other config
  data: async () => {
    // Fetch data from API at build time
    const response = await fetch('https://api.example.com/posts');
    const posts = await response.json();
    
    return {
      title: 'My Blog',
      posts: posts,
      timestamp: new Date().toISOString()
    };
  }
};{% endraw %}
</code></pre>
      </div>

      
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="routes" class="codeBlock-header-title">Dynamic Routes (Static Mode)</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  type: 'static',
  data: {
    title: 'My Blog',
    posts: [
      { id: 1, title: 'First Post', content: 'Hello World', slug: 'first-post' },
      { id: 2, title: 'Second Post', content: 'Another post', slug: 'second-post' },
      { id: 3, title: 'Third Post', content: 'Yet another', slug: 'third-post' }
    ]
  },
  routes: [{
    name: 'Blog Posts',
    path: '/posts/:slug',
    template: 'post.html',
    repeat: (data) => data.posts,  // Array of items to create pages for
    data: (globalData, post, key) => ({
      ...globalData,
      post,
      excerpt: post.content.substring(0, 100) + '...',
      date: new Date().toISOString()
    })
  }]
};{% endraw %}
</code></pre>
      </div>
      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>Static Mode Routes:</strong> Generate HTML files at build time using the <code>repeat</code> function to create multiple pages from data.</p>
        <p><strong>Data Function Signature:</strong> <code>(globalData, item, key)</code></p>
        <ul>
          <li><code>globalData</code> - The data object from your config</li>
          <li><code>item</code> - Current item from the repeat array</li>
          <li><code>key</code> - Index or key of the current item</li>
        </ul>
        <p><strong>Output:</strong></p>
        <ul>
          <li><code>posts/first-post.html</code></li>
          <li><code>posts/second-post.html</code></li>
          <li><code>posts/third-post.html</code></li>
        </ul>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Dynamic Routes (Server Mode)</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  type: 'server',
  
  routes: [{
    name: 'User Profile',
    path: '/user/:id',
    template: './views/profile.html',
    data: async (ctx, database) => {
      // Server-side: rendered on each request
      // ctx contains req, params, query
      const userId = ctx.params.id;
      const users = database.collection('users');
      const user = users.get([userId]);
      
      return {
        user: user || { name: 'Unknown User' },
        title: `Profile - ${user?.name || 'Unknown'}`
      };
    }
  }]
};{% endraw %}
</code></pre>
      </div>
      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>Server Mode Routes:</strong> Rendered on each request with access to database and request context. Results are cached for performance.</p>
        <p><strong>Data Function Signature:</strong> <code>(ctx, database)</code></p>
        <ul>
          <li><code>ctx</code> - Request context (params, query, body, req)</li>
          <li><code>database</code> - Collection-based database instance</li>
        </ul>
        <p><strong>Key Differences from Static Mode:</strong></p>
        <ul>
          <li>No <code>repeat</code> function - routes match dynamically</li>
          <li>Access to request parameters, query strings, and database</li>
          <li>Rendered on-demand with intelligent caching</li>
          <li>Must return data via <code>ctx.respond</code> methods</li>
        </ul>
      </div>
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="data-transform" class="codeBlock-header-title">Data Transformation in Routes</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  // ... other config
  routes: [{
    name: 'Products',
    path: '/products/:slug',
    template: 'product.html',
    repeat: (data) => data.products,
    data: (globalData, product, key) => ({
      ...globalData,
      product: {
        ...product,
        price: `$${product.price.toFixed(2)}`,
        slug: product.name.toLowerCase().replace(/\s+/g, '-'),
        inStock: product.quantity > 0
      },
      relatedProducts: globalData.products.filter(p => 
        p.category === product.category && p.id !== product.id
      )
    })
  }]
};{% endraw %}
</code></pre>
      </div>
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="route-pagination" class="codeBlock-header-title">Route Pagination</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  // ... other config
  routes: [{
    name: 'Blog Pagination',
    path: '/blog/:page?',
    template: 'blog.html',
    paginate: 5,  // 5 posts per page
    repeat: (data) => data.posts,
    data: (globalData, posts, pageInfo) => ({
      ...globalData,
      posts,
      pagination: pageInfo,
      title: `Blog - Page ${pageInfo.current}`
    })
  }]
};{% endraw %}
</code></pre>
      </div>
      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>Output:</strong></p>
        <ul>
          <li><code>blog.html</code> – First 5 posts (page 1)</li>
          <li><code>blog/2.html</code> – Next 5 posts (page 2)</li>
          <li><code>blog/3.html</code> – Remaining posts (page 3)</li>
        </ul>
      </div>
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Template (<code>post.html</code>):</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;{{ post.title }} - {{ title }}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;article&gt;
    &lt;h1&gt;{{ post.title }}&lt;/h1&gt;
    &lt;p&gt;{{ post.excerpt }}&lt;/p&gt;
    &lt;div&gt;{{ post.content }}&lt;/div&gt;
  &lt;/article&gt;
&lt;/body&gt;
&lt;/html&gt;{% endraw %}
</code></pre>
      </div>
      <p class="margin--top-md"><strong>Output:</strong></p>
      <ul>
        <li><code>posts/first-post.html</code> – First post page</li>
        <li><code>posts/second-post.html</code> – Second post page</li>
        <li><code>posts/third-post.html</code> – Third post page</li>
      </ul>

      <h3 id="template-engines" class="margin--top-lg">Template Engines</h3>
      <p class="margin--top-xs type--size-v-1">Clovie supports multiple template engines out of the box. Just specify the engine name!</p>
      
      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="handlebars" class="codeBlock-header-title">Built-in Template Engines</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  // Nunjucks (default)
  renderEngine: 'nunjucks'
};

// Or use Handlebars
export default {
  renderEngine: 'handlebars'
};

// Or use Pug
export default {
  renderEngine: 'pug'
};

// Or use Eta
export default {
  renderEngine: 'eta'
};{% endraw %}
</code></pre>
      </div>

      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>Supported Engines:</strong></p>
        <ul>
          <li><code>nunjucks</code> - Nunjucks (Jinja2-like) <strong>(default)</strong></li>
          <li><code>handlebars</code> - Handlebars templating</li>
          <li><code>pug</code> - Pug (formerly Jade)</li>
          <li><code>eta</code> - Eta (EJS-like)</li>
        </ul>
        <p class="margin--top-sm"><strong>Note:</strong> Nunjucks is included by default. For other engines, install the package:</p>
        <code>npm install handlebars</code> or <code>npm install pug</code> or <code>npm install eta</code>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="nunjucks" class="codeBlock-header-title">Advanced Nunjucks Configuration</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  renderEngine: 'nunjucks',
  
  // Nunjucks-specific options
  nunjucksOptions: {
    autoescape: true,
    throwOnUndefined: false,
    filters: {
      // Custom filters
      upper: (str) => String(str).toUpperCase(),
      formatDate: (date) => new Date(date).toLocaleDateString()
    },
    globals: {
      // Global variables available in all templates
      siteTitle: 'My Site',
      year: new Date().getFullYear()
    }
  }
};{% endraw %}
</code></pre>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="pug" class="codeBlock-header-title">Advanced Pug Configuration</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  renderEngine: 'pug',
  
  // Pug-specific options
  pugOptions: {
    pretty: true,
    compileDebug: false
  }
};{% endraw %}
</code></pre>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="custom-engine" class="codeBlock-header-title">Custom Template Engine</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>{% raw %}export default {
  // Custom engine with render and register functions
  renderEngine: {
    render: (template, data) => {
      // Your custom template rendering logic
      return template.replace(/\{\{(\w+)\}\}/g, (match, key) => {
        return data[key] || match;
      });
    },
    register: (name, template) => {
      // Your custom partial registration logic
      // (optional - some engines don't support partials)
      console.log(`Registering partial: ${name}`);
    }
  }
};{% endraw %}
</code></pre>
      </div>

      <div class="commentBlock margin--top-md padding--all-md">
        <p><strong>Custom Engine Requirements:</strong></p>
        <ul>
          <li><code>render(template, data)</code> - Required function to render templates</li>
          <li><code>register(name, template)</code> - Required function to register partials/includes</li>
        </ul>
      </div>

      

      
      
      <p class="type--align-right margin--top-md"><a class="link-backToTop reset" href="#top">Back to top</a></p>
    </section>
    
    <section class="margin--top-md margin--top-xl">
      <h2 id="error-best">Error Handling &amp; Best Practices</h2>

      <h3 id="error-handling">Error Handling</h3>
      <ul>
        <li><strong>Missing directories:</strong> Handles missing views, scripts, or assets folders.</li>
        <li><strong>File read errors:</strong> Continues processing even if individual files fail.</li>
        <li><strong>Template errors:</strong> Clear error messages for compilation failures.</li>
        <li><strong>Data validation:</strong> Warns about invalid data structures.</li>
      </ul>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 id="progress" class="codeBlock-header-title">Progress Indicators</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>🚀 Starting build...
🧹 Cleaning output directory...
📊 Loading data...
   Loaded 2 data sources
📝 Processing views...
   Processed 5 views
🎨 Rendering templates...
   Rendered 5 templates
⚡ Bundling scripts...
   Bundled 1 script files
🎨 Compiling styles...
   Compiled 1 style files
📦 Processing assets...
   Processed 3 asset files
💾 Writing files...
✅ Build completed in 45ms
</code></pre>
      </div>

      <div class="codeBlock margin--top-md">
        <div class="codeBlock-header padding--all-md pattern-dot-grid">
          <h4 class="codeBlock-header-title">Auto‑Discovery</h4>
        </div>
        <pre class="codeBlock-code padding--all-md reset"><code>🔍 Auto-detected views directory: views
🔍 Auto-detected scripts entry: scripts/main.js
🔍 Auto-detected styles entry: styles/main.scss
🔍 Auto-detected assets directory: assets
</code></pre>
      </div>
      <div class="commentBlock padding--all-lg margin--top-md">
      <h3 id="best-practices">Best Practices</h3>
      <ol>
        <li>Use partial templates (files starting with <code>_</code>) for reusable components.</li>
        <li>Validate data structures before passing to routes.</li>
        <li>Handle async data with proper error catching in route data functions.</li>
        <li>Use meaningful route paths for SEO and organization.</li>
        <li>Transform data in route data functions, not in templates.</li>
        <li>Separate static and dynamic routes for better performance.</li>
      </ol>
      </div>
      <p class="type--align-right margin--top-md"><a class="link-backToTop reset" href="#top">Back to top</a></p>
    </section>


    <section class="margin--top-md margin--top-xl">
      <h2 id="development">Development</h2>
      <div class="codeBlock">
        <div class="codeBlock-code padding--all-md reset">
          <code># Install dependencies</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">npm install</code>
          <br>
          <br>
          <code># Run tests</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">npm test</code>
          <br>
          <br>
          <code># Run tests in watch mode</code>
          <br>
          <code class="codeBlock-code-copy js--copyCode">npm run test:watch</code>
        </div>
      </div>
      <p class="type--align-right margin--top-md"><a href="#top" class="link-backToTop reset">Back to top</a></p>
    </section>

    <section class="margin--top-xl">
      <h2 id="project-structure" class="margin--top-md" >Clovie Project Structure</h2>
      <pre class="codeBlock-code padding--all-md reset"><code>clovie/
├── __tests__/              # Test files
├── bin/                    # CLI executables
│   ├── cli.js             # Main command line interface
│   └── kill-port.js       # Port management utility
├── config/                # Configuration files  
│   └── clovie.config.js   # Default configuration
├── lib/                   # Service-based architecture
│   ├── createClovie.js    # Engine factory function
│   ├── Run.js             # Build orchestration service
│   ├── Cache.js           # Caching service
│   ├── Compile.js         # Template compilation service
│   ├── Configurator.js    # Configuration service
│   ├── File.js            # File system service
│   ├── LiveReload.js      # Live reload service
│   ├── Server/            # Server components
│   │   ├── Server.js      # HTTP server service
│   │   ├── Router.js      # Route handler service
│   │   ├── Kernel.js      # Request routing kernel
│   │   ├── adapters/      # Server adapters
│   │   └── utils/         # Server utilities
│   └── utils/             # Utility functions
│       ├── clean.js       # Directory cleaning
│       ├── loadRenderEngine.js # Template engine loader
│       ├── liveReloadScript.js # Live reload
│       ├── outputPath.js  # Path formatting
│       ├── progress.js    # Progress tracking
│       ├── tasks.js       # Task management
│       └── transformConfig.js # Config transformation
├── templates/             # Project templates
│   ├── default/          # Minimal starter template
│   ├── static/           # Static site template
│   └── server/           # Server application template
└── examples/              # Configuration examples
</code></pre>
      <p class="type--align-right margin--top-md"><a class="link-backToTop reset" href="#top">Back to top</a></p>
    </section>

    <section class="margin--top-md margin--top-xl">
      <h2 id="troubleshooting">Troubleshooting</h2>

      <h3>Common Issues</h3>
      <p><strong>"Views directory does not exist"</strong></p>
      <ul>
        <li>Ensure the <code>views</code> path in your config is correct.</li>
        <li>Create the <code>views</code> directory if it does not exist.</li>
      </ul>
      <p><strong>"Route repeat function must return an array"</strong></p>
      <ul>
        <li>Check that your route's repeat function returns an array.</li>
        <li>Ensure the data structure matches the route configuration.</li>
      </ul>
      <p><strong>"Maximum directory depth exceeded"</strong></p>
      <ul>
        <li>Check for circular symlinks or extremely deep directory structures.</li>
        <li>The limit is 50 levels deep (configurable in code).</li>
      </ul>
      <p><strong>Build failures</strong></p>
      <ul>
        <li>Check console output for specific error messages.</li>
        <li>Verify all referenced files exist.</li>
        <li>Ensure template syntax matches your compiler.</li>
      </ul>
      <p class="type--align-right margin--top-md"><a class="link-backToTop reset" href="#top">Back to top</a></p>
    </section>

    <section class="margin--top-md margin--top-xl">
      <h2 id="license">License</h2>
      <p>MIT</p>
      <p class="type--align-right margin--top-md"><a class="link-backToTop reset" href="#top">Back to top</a></p>
    </section>
  </main>

  <footer>
    <p>Generated from the Clovie README. © Your Project Authors.</p>
  </footer>
  <!-- <h6 id="top" class="header-title type--size-iii fixed--bottom-left">Clovie</h6> -->
  <script src="main.js"></script>
</body>
</html>
